extends ../../layouts/default.pug
block main 
    if(role.permissions.includes("role_view"))
        h1 Nhóm quyền
        .card.mb-3 
            .card-header Danh sách danh mục sản phẩm
            .card-body
                .row
                    .col-4
                    
                    .col-4
                        if(role.permissions.includes("role_create"))
                            .d-flex.align-items-center.justify-content-md-start
                                a(href=`${prefixAdmin}/roles/create` class="btn btn-outline-success") + Thêm mới

                table(class="table table-hover table-sm" checkbox-multi)
                    thead 
                        tr 
                            th STT
                            th Nhóm quyền 
                            th Mô tả ngắn 
                            th Hành động
                    tbody 
                        each item, index in records
                            tr
                                td= index+1
                                td!= item.title
                                td!= item.description
                                td 
                                    a(href=`${prefixAdmin}/roles/detail/${item.id}/`, class='btn btn-secondary btn-sm') Chi tiết
                                    if(role.permissions.includes("role_edit"))
                                        a(href=`${prefixAdmin}/roles/edit/${item.id}/`, class='btn btn-warning btn-sm me-1') Sửa
                                    if(role.permissions.includes("role_delete"))
                                        a(class='btn btn-danger btn-sm' button-delete data-id=item.id) Xoá

        form(action="" method="POST" id="form-delete-item" data-path=`${prefixAdmin}/roles/delete`)

        script(src="/admin/js/role.js")
                    